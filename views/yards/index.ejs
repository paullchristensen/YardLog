<%- include("../partials/header") %>


<div class = "container">

	<header class="jumbotron text-center">
		<div>
            
			<h1 ><i class="fas fa-archive"></i>     Welcome to YardLog</h1>
			<!-- <p>View yards</p> -->
			<p>
				<a class = "btn btn-primary btn-large" href="/yards/new">Add New Yard</a>
			</p>
		</div>
	</header>

    <table class="table" id="yardTable">
        <thead class="thead-dark">
          <tr>
            <th scope="col">#</th>
            <th scope="col"><button onclick="exportYards()">Export</button></th>
            <th scope="col">Name</th>
            <th scope="col">Area</th>
            <th scope="col">More Info</th>
          </tr>
        </thead>
        <tbody>
            <%  
              if(yards){
                var row = 1;
                yards.forEach(function(yard){ 	%>
            <tr>
                <th scope="row"><%= row++; %></th>
                <td>select</td>
                <td><%= yard.name %></td>
                <td><%= yard.area %></td>
                <td><a href="/yards/<%= yard._id %>" class="btn btn-primary">More Info</a></td>
            </tr>
             <% })};	%>
        </tbody>
      </table>
</div>

<script>
  function exportYards() {

    var doc = new jsPDF({
         orientation: 'p', 
         unit: 'in', 
         format: [612, 792]
     });
     
    var rowCount =  $('#yardTable').find('tr').length -1;
     
        //var row = 1;
        //yards.forEach(function(yard){
       // doc.text(yard.name, 10,  row *10);
       // row++;
      //});
    
      //doc.text(rowCount, 10,  10);
   
   // doc.save('yards.pdf');
  }
</script>
<%- include("../partials/footer") %>